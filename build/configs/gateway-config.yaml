# Gateway Configuration

# API Endpoints Configuration
endpoints:
  - name: user-service
    url: https://users.company-internal.com/api/v1
    timeout: 30s
    retry_policy:
      max_retries: 3
      retry_interval: 1s
  - name: payment-service
    url: https://payments.company-internal.com/api/v2
    timeout: 15s
    retry_policy:
      max_retries: 2
      retry_interval: 2s
  - name: inventory-service
    url: https://inventory.company-internal.com/api/v1
    timeout: 20s
    retry_policy:
      max_retries: 3
      retry_interval: 1.5s

# TLS Configuration
tls:
  enabled: true
  cert_path: /etc/certs/server.crt
  key_path: /etc/certs/server.key
  min_version: TLS1.2
  ciphers:
    - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
    - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
  client_cert_validation: optional

# Authentication Configuration
authentication:
  jwt:
    enabled: true
    issuer: https://auth.company-internal.com
    audience: gateway-api
    public_key_path: /etc/keys/public.pem
  api_key:
    enabled: true
    header_name: X-API-Key
    keys:
      - name: service-a
        value: ${SERVICE_A_API_KEY}
      - name: service-b
        value: ${SERVICE_B_API_KEY}
  oauth2:
    enabled: false
    token_url: https://auth.company-internal.com/oauth/token
    client_id: ${OAUTH_CLIENT_ID}
    client_secret: ${OAUTH_CLIENT_SECRET}

# Rate Limiting (basic settings, detailed in rate-limits.yaml)
rate_limiting:
  enabled: true
  default_limit: 100
  default_period: 60s

# Logging Configuration
logging:
  level: info
  format: json
  output: stdout
  request_logging: true
  response_logging: true

